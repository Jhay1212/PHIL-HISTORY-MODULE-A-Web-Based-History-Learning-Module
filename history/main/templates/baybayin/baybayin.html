{% extends 'base.html' %}

{% block css %}
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English/Tagalog to Baybayin Converter</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tagalog&display=swap" rel="stylesheet">

<link rel="stylesheet" href="{{ url_for('static', filename='baybayin/baybayin.css')}}">
<style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Tagalog&display=swap');

    body {
        font-family: 'Noto Sans Tagalog', sans-serif !important;
    }
    .c-wrapper {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 1.5rem;
        /* margin: 2rem; */
    }
    .c-wrapper > * {
        margin: 1.5rem;
    }
    textarea {
        font-family: 'Noto Sans Tagalog', sans-serif !important;
    }


    /* changes */

    textarea {
            width: 400px;
            height: 200px;
            padding: 15px;
            border: 2px solid #ccc;
            border-radius: 10px;
            font-size: 18px;
            font-family: 'Noto Sans', sans-serif;
            color: #333;
            background-color: #fff;
            resize: none;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            transition: border-color 0.3s ease;
        }

        textarea:focus {
            border-color: #0066ff;
            outline: none;
            box-shadow: 0px 6px 12px rgba(0, 102, 255, 0.2);
        }

        textarea::placeholder {
            color: #aaa;
            font-style: italic;
        }
    </style>
    {% endblock %}
    
{% block main %}

<div class="c-wrapper">

    <H2>English/Tagalog to Baybayin Translator </H2>

    <textarea id="input" placeholder="Type here..." rows="10" cols="30"></textarea>

    </div>
<!-- 
    <h1>Convert English/Tagalog to Baybayin</h1>
    <textarea id="inputText" placeholder="Type your text here..." rows="4" cols="50"></textarea><br>
    <button onclick="convertToBaybayin()">Convert</button>
    <h2>Result in Baybayin:</h2>
    <p id="result" class="noto-sans-tagalog-regular"></p>
    
    </div>
    <script>
        // Baybayin syllabic map
        const baybayinMap = {
            
            "ka": "ᜃ", "ke": "ᜃᜒ", "ki": "ᜃᜒ", "ko": "ᜃᜓ", "ku": "ᜃᜓ",
            "ga": "ᜄ", "ge": "ᜄᜒ", "gi": "ᜄᜒ", "go": "ᜄᜓ", "gu": "ᜄᜓ",
            "ha": "ᜑ", "he": "ᜑᜒ", "hi": "ᜑᜒ", "ho": "ᜑᜓ", "hu": "ᜑᜓ",
            "la": "ᜎ", "le": "ᜎᜒ", "li": "ᜎᜒ", "lo": "ᜎᜓ", "lu": "ᜎᜓ",
            "ma": "ᜋ", "me": "ᜋᜒ", "mi": "ᜋᜒ", "mo": "ᜋᜓ", "mu": "ᜋᜓ",
            "na": "ᜈ", "ne": "ᜈᜒ", "ni": "ᜈᜒ", "no": "ᜈᜓ", "nu": "ᜈᜓ",
            "pa": "ᜉ", "pe": "ᜉᜒ", "pi": "ᜉᜒ", "po": "ᜉᜓ", "pu": "ᜉᜓ",
            "sa": "ᜐ", "se": "ᜐᜒ", "si": "ᜐᜒ", "so": "ᜐᜓ", "su": "ᜐᜓ",
            "ta": "ᜆ", "te": "ᜆᜒ", "ti": "ᜆᜒ", "to": "ᜆᜓ", "tu": "ᜆᜓ",
            "wa": "ᜏ", "we": "ᜏᜒ", "wi": "ᜏᜒ", "wo": "ᜏᜓ", "wu": "ᜏᜓ",
            "ya": "ᜌ", "ye": "ᜌᜒ", "yi": "ᜌᜒ", "yo": "ᜌᜓ", "yu": "ᜌᜓ",
            "a": "ᜀ", "e": "ᜁ", "i": "ᜁ", "o": "ᜂ", "u": "ᜂ"
        };

        // Function to split input into syllables
        function splitIntoSyllables(text) {
            const syllables = [];
            const vowels = ["a", "e", "i", "o", "u"];
            let current = "";

            for (let i = 0; i < text.length; i++) {
                current += text[i];
                if (vowels.includes(text[i]) || i == text.length - 1) {
                    syllables.push(current);
                    current = "";
                }
            }
            return syllables;
        }

        // Function to convert English/Tagalog input to Baybayin
        function convertToBaybayin() {
            const inputText = document.getElementById("inputText").value.toLowerCase();
            let resultText = "";

            const syllables = splitIntoSyllables(inputText);

            syllables.forEach(syllable => {
                if (baybayinMap[syllable]) {
                    resultText += baybayinMap[syllable];
                } else {
                    // Handle missing or unmapped syllables
                    resultText += syllable;
                }
            });

            document.getElementById("result").textContent = resultText; -->
        <!-- }
    </script> -->


    
    <script>
        // Mapping of Latin alphabet to Baybayin equivalents
        const baybayinMap = {
            'a': 'ᜀ', 'e': 'ᜁ', 'i': 'ᜁ', 'o': 'ᜂ', 'u': 'ᜂ',
            'b': 'ᜊ', 'k': 'ᜃ', 'd': 'ᜇ', 'g': 'ᜄ', 'h': 'ᜑ',
            'l': 'ᜎ', 'm': 'ᜋ', 'n': 'ᜈ', 'p': 'ᜉ', 's': 'ᜐ',
            't': 'ᜆ', 'w': 'ᜏ', 'y': 'ᜌ'
        };
        
        // Function to replace Latin characters with Baybayin
        function convertToBaybayin(text) {
            console.log(text)
            return text.split('').map(char => {
                const lowerChar = char.toLowerCase();
                return baybayinMap[lowerChar] || char; // Default to original if no Baybayin equivalent
            }).join('');
        }
        
        // Event listener for textarea input
        document.getElementById('input').addEventListener('input', function(event) {
            const originalText = event.target.value;
            // console.log(event.target.value)
            const convertedText = convertToBaybayin(originalText);
            event.target.value = convertedText; // Update textarea with Baybayin text
        });
        </script>
{% endblock %}
